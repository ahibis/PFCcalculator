var A=Object.defineProperty,F=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var x=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&x(e,r,t[r]);if(S)for(var r of S(t))q.call(t,r)&&x(e,r,t[r]);return e},N=(e,t)=>F(e,B(t));import{o as i,c as b,w as u,a as d,V as p,b as y,d as M,e as _,f as h,g as o,F as v,r as O,h as L,i as C,j as R,t as c,k as V,l as P,m as J,n as k,p as D,q as T,s as Y,u as I,v as j,x as z}from"./vendor.fb28507a.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};K();var g=(e,t)=>{const r=e.__vccOpts||e;for(const[a,s]of t)r[a]=s;return r};const W={data(){return{nameRules:[e=>e&&e.length>=2||"\u0438\u043C\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 2 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",e=>e&&e.length<=40||"\u0438\u043C\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043C\u0435\u043D\u044C\u0448\u0435 40 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",e=>!vm.products.find(t=>t.name==e)||"\u0434\u0430\u043D\u043D\u044B\u0439 \u043F\u0440\u043E\u0434\u0443\u043A\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",e=>/^[А-Яа-яa-zA-Z\s]*$/u.test(e)||"\u0438\u043C\u044F \u043C\u043E\u0436\u0435\u0442 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0440\u0443\u0441\u0441\u043A\u0438\u0435, \u0430\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B \u0438 \u043F\u0440\u043E\u0431\u0435\u043B"],newProduct:{name:"",calories:50,proteins:50,fats:50,carbs:50}}},methods:{async addProduct(){if(!(await this.$refs.form.validate()).valid)return;const{newProduct:r}=this;this.$emit("addProduct",r),r.name=""}}},Z=_("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C");function G(e,t,r,a,s,n){return i(),b(M,{ref:"form"},{default:u(()=>[d(p,{label:"\u043F\u0440\u043E\u0434\u0443\u043A\u0442",modelValue:s.newProduct.name,"onUpdate:modelValue":t[0]||(t[0]=l=>s.newProduct.name=l),rules:s.nameRules,"hide-details":"auto",counter:"40",hint:"\u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430",required:""},null,8,["modelValue","rules"]),d(p,{label:"\u041A\u0430\u043B\u043E\u0440\u0438\u0438 (\u041A\u043A\u0430\u043B)",type:"number","hide-details":"",modelValue:s.newProduct.calories,"onUpdate:modelValue":t[1]||(t[1]=l=>s.newProduct.calories=l),required:""},null,8,["modelValue"]),d(p,{label:"\u0431\u0435\u043B\u043A\u0438 (\u0433)",type:"number","hide-details":"",modelValue:s.newProduct.proteins,"onUpdate:modelValue":t[2]||(t[2]=l=>s.newProduct.proteins=l),required:""},null,8,["modelValue"]),d(p,{type:"number","hide-details":"",label:"\u0436\u0438\u0440\u044B",modelValue:s.newProduct.fats,"onUpdate:modelValue":t[3]||(t[3]=l=>s.newProduct.fats=l),required:""},null,8,["modelValue"]),d(p,{label:"\u0443\u0433\u043B\u0435\u0432\u043E\u0434\u044B (\u0433)",type:"number","hide-details":"",modelValue:s.newProduct.carbs,"onUpdate:modelValue":t[4]||(t[4]=l=>s.newProduct.carbs=l),required:""},null,8,["modelValue"]),d(y,{color:"cyan lighten-4",type:"submit",onClick:n.addProduct},{default:u(()=>[Z]),_:1},8,["onClick"])]),_:1},512)}var H=g(W,[["render",G]]);const Q={emits:["deleteProduct"],props:["products"],data:()=>({bdShow:!0})},X=o("h2",null,"\u0411\u0430\u0437\u0430 \u0434\u0430\u043D\u043D\u044B\u0445",-1),ee=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"Name"),o("th",{class:"text-center"},"Calories"),o("th",{class:"text-center"},"Protein (g)"),o("th",{class:"text-center"},"Fat (g)"),o("th",{class:"text-center"},"Carbs (g)"),o("th",{class:"text-center"})])],-1),te=_(" mdi-delete ");function le(e,t,r,a,s,n){return i(),h(v,null,[X,e.bdShow?(i(),b(L,{key:0,class:"bd"},{default:u(()=>[ee,o("tbody",null,[(i(!0),h(v,null,O(r.products,(l,f)=>(i(),h("tr",{key:l.name},[o("td",null,c(l.name),1),o("td",null,c(l.calories),1),o("td",null,c(l.proteins),1),o("td",null,c(l.fats),1),o("td",null,c(l.carbs),1),o("td",null,[d(y,{icon:"",color:"primary",onClick:m=>e.$emit("deleteProduct",f)},{default:u(()=>[d(V,null,{default:u(()=>[te]),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1})):C("",!0),d(R)],64)}var oe=g(Q,[["render",le]]);const se={props:["products"],data:()=>({dayProducts:[],newValue:"",date:""}),methods:{addProduct(){console.log(1);const e=this.newValue;if(this.dayProducts.find(r=>r.name==e))return;const t=this.products.find(r=>r.name==e);!t||(this.dayProducts.push(N(w({},t),{mass:100})),this.saveDay())},loadDay(){const e=this.date,t=localStorage[`product${e}`];this.dayProducts=t?JSON.parse(t):[]},saveDay(){const e=this.date;localStorage[`product${e}`]=JSON.stringify(this.dayProducts)},deleteProduct(e){this.dayProducts.splice(e,1),this.saveDay()},nextDay(){const{date:e}=this,t=moment(e).add(1,"d");this.date=t.format("yyyy-MM-DD"),this.loadDay()},lastDay(){const{date:e}=this,t=moment(e).subtract(1,"d");this.date=t.format("yyyy-MM-DD"),this.loadDay()}},mounted(){this.date=moment().format("yyyy-MM-DD"),this.loadDay()},computed:{allProducts(){const e={};return this.dayProducts.forEach(t=>{let r=t.mass/100;for(let[a,s]of Object.entries(t)){if(a=="mass"){e[a]=e[a]?e[a]+=s:s;continue}e[a]=e[a]?e[a]+=s*r:s*r}}),e},productsName(){return this.products.map(e=>e.name)},dateName(){return moment(this.date).format("DD.MM.YYYY")}}},re=o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"Name"),o("th",{class:"text-center"},"mass (g)"),o("th",{class:"text-center"},"Calories"),o("th",{class:"text-center"},"Protein (g)"),o("th",{class:"text-center"},"Fat (g)"),o("th",{class:"text-center"},"Carbs (g)"),o("th",{class:"text-center"})])],-1),ne=_(" mdi-delete "),de={key:0},ae=o("td",null,"\u0432 \u0438\u0442\u043E\u0433\u0435",-1),ue=o("td",null,null,-1),ce=_(" mdi-plus"),ie=_("mdi-minus"),me=_("mdi-plus");function fe(e,t,r,a,s,n){return i(),h(v,null,[o("h2",null,"\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044B \u043D\u0430 "+c(n.dateName),1),d(L,{class:"bd"},{default:u(()=>[re,o("tbody",null,[(i(!0),h(v,null,O(e.dayProducts,(l,f)=>(i(),h("tr",{key:l.name},[o("td",null,c(l.name),1),o("td",null,[d(p,{onChange:t[0]||(t[0]=m=>n.saveDay()),label:"mass",filled:"","single-line":"",type:"number",modelValue:l.mass,"onUpdate:modelValue":m=>l.mass=m,step:"50","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue"])]),o("td",null,c((l.calories*l.mass/100).toPrecision(4)),1),o("td",null,c((l.proteins*l.mass/100).toPrecision(4)),1),o("td",null,c((l.fats*l.mass/100).toPrecision(4)),1),o("td",null,c((l.carbs*l.mass/100).toPrecision(4)),1),o("td",null,[d(y,{class:"mx-2",icon:"",small:"",color:"primary",onClick:m=>n.deleteProduct(f)},{default:u(()=>[d(V,null,{default:u(()=>[ne]),_:1})]),_:2},1032,["onClick"])])]))),128)),n.allProducts.calories?(i(),h("tr",de,[ae,o("td",null,c(n.allProducts.mass.toPrecision(4)),1),o("td",null,c(n.allProducts.calories.toPrecision(4)),1),o("td",null,c(n.allProducts.proteins.toPrecision(4)),1),o("td",null,c(n.allProducts.fats.toPrecision(4)),1),o("td",null,c(n.allProducts.carbs.toPrecision(4)),1),ue])):C("",!0)])]),_:1}),d(k,null,{default:u(()=>[d(P,{xs:"9"},{default:u(()=>[d(J,{modelValue:e.newValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.newValue=l),items:n.productsName,dense:"",filled:"","hide-details":"auto",label:"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442"},null,8,["modelValue","items"])]),_:1}),d(P,{xs:"3"},{default:u(()=>[d(y,{icon:"",color:"blue",onClick:n.addProduct,dense:"","hide-details":"auto"},{default:u(()=>[d(V,null,{default:u(()=>[ce]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),d(k,null,{default:u(()=>[d(P,{xs:"9"},{default:u(()=>[d(p,{type:"date","hide-details":"auto",modelValue:e.date,"onUpdate:modelValue":t[2]||(t[2]=l=>e.date=l),onChange:t[3]||(t[3]=l=>n.loadDay()),dense:""},null,8,["modelValue"])]),_:1}),d(P,null,{default:u(()=>[d(y,{icon:"",color:"blue",onClick:t[4]||(t[4]=l=>n.lastDay())},{default:u(()=>[d(V,null,{default:u(()=>[ie]),_:1})]),_:1}),d(y,{icon:"",color:"blue",onClick:t[5]||(t[5]=l=>n.nextDay())},{default:u(()=>[d(V,null,{default:u(()=>[me]),_:1})]),_:1})]),_:1})]),_:1})],64)}var pe=g(se,[["render",fe]]);const he={components:{addProduct:H,productDB:oe,myProduct:pe},name:"App",data:()=>({products:[],bdShow:!0}),methods:{deleteProduct(e){this.products.splice(e,1),this.saveProducts()},saveProducts(){localStorage.products=JSON.stringify(this.products)},addProduct(e){this.products.push(w({},e)),this.saveProducts()}},mounted(){vm=this,localStorage.products=localStorage.products||"[]",this.products=JSON.parse(localStorage.products)}},ye=o("h2",null,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u0434\u0443\u043A\u0442",-1),Pe=o("h2",null,"\u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",-1);function _e(e,t,r,a,s,n){const l=D("addProduct"),f=D("productDB"),m=D("myProduct");return i(),b(T,null,{default:u(()=>[d(Y,null,{default:u(()=>[d(k,null,{default:u(()=>[d(P,{sm:"4"},{default:u(()=>[ye,d(l,{onAddProduct:n.addProduct},null,8,["onAddProduct"]),Pe,d(I,{"hide-details":"",flat:"",color:"blue",label:"\u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0431\u0434",modelValue:e.bdShow,"onUpdate:modelValue":t[0]||(t[0]=U=>e.bdShow=U)},null,8,["modelValue"])]),_:1}),d(P,{sm:"8"},{default:u(()=>[e.bdShow?(i(),b(f,{key:0,products:e.products,onDeleteProduct:n.deleteProduct},null,8,["products","onDeleteProduct"])):C("",!0),d(m,{products:e.products},null,8,["products"])]),_:1})]),_:1})]),_:1})]),_:1})}var Ve=g(he,[["render",_e]]);var be=j();const ve="modulepreload",$={},ge="./",we=function(t,r){return!r||r.length===0?t():Promise.all(r.map(a=>{if(a=`${ge}${a}`,a in $)return;$[a]=!0;const s=a.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":ve,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((f,m)=>{l.addEventListener("load",f),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};async function De(){(await we(()=>import("./webfontloader.cd097671.js").then(function(t){return t.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}De();z(Ve).use(be,{},!1,"bootstrap3").mount("#app");
